def main():
    print("Let's custom your environtment")
    getMongoKey()

def getMongoKey():
    mongoSecert = str(input("Please, input new mongo secret key: "))
    if len(mongoSecert) > 0:
        mongoEnv = "- SECRET=" + mongoSecert
        with open("lol.txt", "r") as fileRead:
            readArray = fileRead.readlines()
            for i in readArray:
                if i.find("SECRET") > 0:
                    readArray[i.find("SECRET")] = mongoEnv
                    break
        with open("lol.txt", "w") as fileWrite:
            fileWrite.writelines(readArray)
    else:
        raise Exception("Please, input not empty value")


def getKeyMetriks():
    answer = str(input("Do you want use a keymetriks?y/N: ") or "n")
    if answer.lower() == "y":
        public = str("\"" + input("Please, input public key: ") + "\"")
        private = str("\"" + input("Please, input private key: ") + "\"")
        if (len(public) > 0 and len(private) > 0):
            with open("test.txt", "r") as testFile:
                dockerRunContainerCommand = "CMD [ \"pm2-runtime\",\"--public\"," + \
                                            public + ", \"--secret\"," + private + " ,\"--json\",\"pm2.json\" ]"
                dockerFileStrings = testFile.readlines()
                dockerFileStrings[-1] = dockerRunContainerCommand
            with open("test.txt", "w") as fileWrite:
                fileWrite.writelines(dockerFileStrings)


main()
